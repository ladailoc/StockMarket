<div *ngIf="!editing && !viewing">
    <div class="stock-name">{{ stock.name }}</div>
    <div class="stock-code">{{ stock.code }}</div>
    <div class="stock-price" [class]="stock.isPositiveChange() ? 'positive' : 'negative'">
        {{ stock.price }}
    </div>

    <!-- <button (click)="toggleFavorite(stock)" [disabled]="stock.favorite">Add to Favorite</button> -->
    <button (click)="toggleFavorite(stock)" [disabled]="stock.favorite" class="btn-fav">Add to Favorite</button>
      
    <div class="stock-actions">
        <button class="btn-view" (click)="viewStock()">View</button>
        <button class="btn-edit" (click)="editStock(stock)">Edit</button>
        <button class="btn-delete" (click)="deleteStock(stock)">Delete</button>
    </div>
</div>

<!-- Form View -->
<div *ngIf="viewing" class="view-form">
    <h3>Chi tiết cổ phiếu</h3>
    <label>Mã cổ phiếu:</label>
    <p>{{ stock.code }}</p>

    <label>Tên cổ phiếu:</label>
    <p>{{ stock.name }}</p>

    <label>Giá hiện tại:</label>
    <p>{{ stock.price }}</p>

    <label>Giá trước đó:</label>
    <p>{{ stock.previousPrice }}</p>

    <label>Yêu thích:</label>
    <p>{{ stock.favorite ? 'Có' : 'Không' }}</p>

    <button class="btn-close" (click)="closeView()">Đóng</button>
</div>


<!-- Form Edit -->
<form *ngIf="editing" [formGroup]="editStockForm">
    <label>Tên:</label>
    <input type="text" formControlName="name" />

    <label>Giá:</label>
    <input type="number" formControlName="price" />

    <label>Giá trước đó:</label>
    <input type="number" formControlName="previousPrice" />

    <div class="checkbox-group">
        <label>Yêu thích:</label>
        <input type="checkbox" formControlName="favorite" />
    </div>

    <div class="form-actions">
        <button type="submit" (click)="saveStock()">Lưu</button>
        <button type="button" (click)="closeEdit()">Hủy</button>
    </div>
</form>

